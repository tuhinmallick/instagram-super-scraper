{
  "title": "Instagram Multi-Scraper Input",
  "description": "Configure the Instagram scraper based on your needs",
  "type": "object",
  "schemaVersion": 1,
  "properties": {
    "scraperType": {
      "title": "Scraper Type",
      "type": "string",
      "description": "Choose the type of Instagram data to scrape",
      "enum": [
        "profile",
        "reels", 
        "hashtag",
        "post",
        "comments",
        "mentions",
        "quick-posts",
        "followers-count",
        "hashtag-stats"
      ],
      "enumTitles": [
        "üë§ Instagram Profile Scraper",
        "üéûÔ∏è Instagram Reel Scraper", 
        "#Ô∏è‚É£ Instagram Hashtag Scraper",
        "üì∑ Instagram Post Scraper",
        "üí¨ Instagram Comments Scraper",
        "üè∑Ô∏è Instagram Mentions Scraper",
        "‚úÖ Quick Instagram Posts Checker",
        "üë• Instagram Followers Count Scraper",
        "üìä Instagram Hashtag Stats"
      ],
      "default": "profile"
    },
    "profileUrl": {
      "title": "Profile URL or Username",
      "type": "string",
      "description": "Instagram profile URL or username (e.g., 'username' or 'https://instagram.com/username')",
      "editor": "textfield",
      "example": "cristiano"
    },
    "hashtag": {
      "title": "Hashtag",
      "type": "string", 
      "description": "Hashtag to scrape (without the # symbol)",
      "editor": "textfield",
      "example": "travel"
    },
    "postUrl": {
      "title": "Post URL",
      "type": "string",
      "description": "Full Instagram post or reel URL",
      "editor": "textfield",
      "example": "https://www.instagram.com/p/ABC123/"
    },
    "usernames": {
      "title": "Usernames List",
      "type": "array",
      "description": "List of usernames for bulk followers count check",
      "editor": "stringList",
      "items": {
        "type": "string"
      },
      "example": ["username1", "username2", "username3"]
    },
    "limit": {
      "title": "Results Limit",
      "type": "integer",
      "description": "Maximum number of items to scrape",
      "minimum": 1,
      "maximum": 1000,
      "default": 20
    },
    "proxyConfiguration": {
      "title": "Proxy Configuration",
      "type": "object",
      "description": "Proxy settings for avoiding rate limits",
      "prefill": { "useApifyProxy": true },
      "default": { "useApifyProxy": true },
      "editor": "proxy"
    }
  },
  "required": ["scraperType"],
  "allOf": [
    {
      "if": {
        "properties": { 
          "scraperType": { 
            "enum": ["profile", "reels", "mentions", "quick-posts"] 
          } 
        }
      },
      "then": {
        "required": ["profileUrl"]
      }
    },
    {
      "if": {
        "properties": { 
          "scraperType": { 
            "enum": ["hashtag", "hashtag-stats"] 
          } 
        }
      },
      "then": {
        "required": ["hashtag"]
      }
    },
    {
      "if": {
        "properties": { 
          "scraperType": { 
            "enum": ["post", "comments"] 
          } 
        }
      },
      "then": {
        "required": ["postUrl"]
      }
    },
    {
      "if": {
        "properties": { 
          "scraperType": { 
            "const": "followers-count" 
          } 
        }
      },
      "then": {
        "required": ["usernames"]
      }
    }
  ]
}